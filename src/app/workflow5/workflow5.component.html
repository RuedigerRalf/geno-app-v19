<!-- ======================================================= -->
<!-- START DES SPEZIAL-BEREICHS (1 Text, 5 Bilder)           -->
<!-- ======================================================= -->

<!-- Container fÃ¼r diesen Abschnitt -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start mt-32">

  <!-- LINKER BEREICH: Einleitung + 5 Mini-Trigger -->
  <div class="flex flex-col">

    <!-- A) Der "kurze Text" (Bleibt oben stehen, scrollt dann weg) -->
    <div class="mb-12 px-6">
      <div
        class="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-blue-600 uppercase bg-blue-50 rounded-full">
        Vielfalt
      </div>
      <h3 class="text-3xl font-bold text-slate-900 mb-4">
        Eine Datenbasis, fÃ¼nf Ansichten.
      </h3>
      <p class="text-lg text-slate-600">
        Egal ob Sie einen schnellen Ãœberblick brauchen oder eine detaillierte Konfliktanalyse fÃ¼r das Gutachten: Der
        Genogramm Designer passt die Darstellung auf Knopfdruck an.
        <br><span class="text-sm text-slate-400 italic">(Scrollen Sie durch die Varianten ðŸ‘‡)</span>
      </p>
    </div>

    <!-- B) Die 5 Trigger-Punkte (als Liste gestaltet) -->
    <div class="relative ml-6 lg:ml-10 border-l-2 border-slate-100">

      @for (step of gallerySteps; track step.id) {

      <!-- Trigger Container -->
      <!-- min-h-[50vh]: Kleiner als sonst, fÃ¼r schnelleren Bildwechsel -->
      <div class="min-h-[50vh] flex items-center pl-8 -ml-[2px] border-l-4 transition-all duration-500 cursor-default"
        #stepSection [attr.data-index]="step.id" 
        [class.border-blue-600]="activeStepIndex() === step.id"
        [class.border-transparent]="activeStepIndex() !== step.id">
        <!-- Der Text des Triggers -->
        <div class="transition-all duration-500" 
          [class.opacity-100]="activeStepIndex() === step.id"
          [class.translate-x-2]="activeStepIndex() === step.id" 
          [class.opacity-40]="activeStepIndex() !== step.id">
          <p class="text-xl font-bold" 
            [class.text-blue-700]="activeStepIndex() === step.id"
            [class.text-slate-400]="activeStepIndex() !== step.id">
            {{ step.label }}
          </p>

          <!-- Optional: Mobile Bild-Ansicht -->
          <div class="lg:hidden mt-4 w-full aspect-video rounded-lg overflow-hidden shadow-sm">
            <img [src]="step.imageFile" class="object-cover w-full h-full">
          </div>
        </div>
      </div>
      }

    </div>
  </div>

  <!-- RECHTER BEREICH: Sticky Bilder -->
  <div
    class="hidden lg:block sticky top-32 h-[500px] w-full rounded-2xl shadow-2xl border border-slate-200 overflow-hidden bg-slate-50">
    <div class="relative w-full h-full">

      @for (step of gallerySteps; track step.id) {
      <div
        class="absolute inset-0 w-full h-full flex items-center justify-center transition-opacity duration-500 ease-in-out"
        [class.opacity-0]="activeStepIndex() !== step.id" 
        [class.opacity-100]="activeStepIndex() === step.id">
        <!-- Echtes Bild -->
        <img [src]="step.imageFile" [alt]="step.label" class="object-cover w-full h-full object-top">

        <!-- Label Overlay (Optional, falls man im Bild sehen will was es ist) -->
        <div
          class="absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-1 rounded text-xs font-mono text-slate-500 shadow-sm">
          {{ step.label }}
        </div>
      </div>
      }

    </div>
  </div>

</div>